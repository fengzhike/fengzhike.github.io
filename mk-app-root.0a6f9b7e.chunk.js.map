{"version":3,"sources":["webpack:///./apps/root/component.js","webpack:///./apps/root/action.js","webpack:///./apps/root/reducer.js"],"names":["C","props","monkeyKing","path","creator","action","option","onInit","component","injections","reduce","onRedirect","appName","metaAction","config","current","window","onhashchange","hash","document","location","substr","gf","o","ret","metaHandlers","reducer","init","state","initState","setTimeout","data","currentAppName","metaReducer","redirect","sf"],"mappings":"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","file":"mk-app-root.0a6f9b7e.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nimport { wrapper } from 'mk-meta-engine'\n\nimport appInfo from './index'\n\n@wrapper(appInfo)\nexport default class C extends Component {\n\trender() {\n\t\treturn this.props.monkeyKing({ ...this.props, path: 'root' })\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/root/component.js","import React from 'react'\nimport { action as MetaAction, AppLoader } from 'mk-meta-engine'\nimport config from './config'\n\nclass action {\n    constructor(option) {\n        this.metaAction = option.metaAction\n        this.config = config.current\n\n        window.onhashchange = () => {\n            const hash = document.location.hash || ''\n            if (!hash || hash.substr(1) == this.metaAction.gf('data.currentAppName')){\n                return\n            }\n            this.onRedirect({ appName: hash.substr(1) })\n        }\n    }\n\n    onInit = ({ component, injections }) => {\n        this.component = component\n        this.injections = injections\n        injections.reduce('init')\n    }\n\n    onRedirect = ({ appName }) => {\n        this.injections.reduce('redirect', appName)\n    }\n}\n\nexport default function creator(option) {\n    const metaAction = new MetaAction(option),\n        o = new action({ ...option, metaAction }),\n        ret = { ...metaAction, ...o }\n\n    metaAction.config({ metaHandlers: ret })\n\n    return ret\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/root/action.js","import { Map } from 'immutable'\nimport { reducer as MetaReducer } from 'mk-meta-engine'\nimport config from './config'\nimport { getInitState } from './data'\n\nclass reducer {\n    constructor(option) {\n        this.metaReducer = option.metaReducer\n        this.config = config.current\n    }\n\n    init = (state, option) => {\n        const initState = getInitState()\n\n        setTimeout(() => location.hash = initState.data.currentAppName, 0)\n\n        return this.metaReducer.init(state, initState)\n    }\n\n    redirect = (state, appName) => {\n        setTimeout(() => location.hash = appName, 0)\n        state = this.metaReducer.sf(state, 'data.currentAppName', appName)\n        return state\n    }\n}\n\nexport default function creator(option) {\n    const metaReducer = new MetaReducer(option),\n        o = new reducer({ ...option, metaReducer })\n\n    return { ...metaReducer, ...o }\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/root/reducer.js"],"sourceRoot":""}